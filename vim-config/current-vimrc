set nocompatible
set ignorecase
set smartcase
set shiftwidth=4
set softtabstop=4
set tabstop=4
set expandtab
set smarttab
set autoindent
set smartindent
set nu
set incsearch
set hlsearch
set showmatch
set mouse=a
"set selection=exclusive
set selection=inclusive
set selectmode=mouse,key
map <s-tab> :bnext <cr>
set nobackup
set noswapfile
set clipboard=unnamed


filetype off

" ycm config
nnoremap <leader>jd :YcmCompleter GoToDefinitionElseDeclaration<CR>

let g:ycm_global_ycm_extra_conf = '~/.vim/.ycm_extra_conf.py'
let g:ycm_autoclose_preview_window_after_insertion = 1
let g:ycm_autoclose_preview_window_after_completion=1

" ultisnips config
" make YCM compatible with UltiSnips (using supertab)
let g:ycm_key_list_select_completion = ['<C-n>', '<Down>']
let g:ycm_key_list_previous_completion = ['<C-p>', '<Up>']
let g:SuperTabDefaultCompletionType = '<C-n>'


" better key bindings for UltiSnipsExpandTrigger

let g:UltiSnipsExpandTrigger = "<tab>"
let g:UltiSnipsJumpForwardTrigger = "<tab>"
let g:UltiSnipsJumpBackwardTrigger = "<s-tab>"



" the Omni-Completion tip window to close when a selection is made
"autocmd CompleteDone * pclose
"autocmd CursorMovedI * if pumvisible() == 0|pclose|endif
"autocmd InsertLeave * if pumvisible() == 0|pclose|endif


"Nerdtree settings
let g:nerdtree_tabs_open_on_console_startup=1
let g:nerdtree_tabs_smart_startup_focus = 1
let g:nerdtree_tabs_open_on_new_tab = 1
let g:nerdtree_tabs_meaningful_tab_names = 1
let g:nerdtree_tabs_autoclose = 1
let g:nerdtree_tabs_synchronize_view = 1
let g:nerdtree_tabs_synchronize_focus = 1
let g:nerdtree_tabs_focus_on_files = 1
let NERDTreeIgnore=['\.pyc$', '\~$'] "ignore files in NERDTree
autocmd VimEnter * NERDTree
"autocmd VimEnter * NERDTreeMirror
"autocmd VimEnter * NERDTreeMirrorOpen
"autocmd VimEnter * NERDTreeTabsOpen
autocmd VimEnter * wincmd p

" startify configure
"let g:startify_custom_header = [
			"\]

"let g:startify_session_persistence = 1
"let g:startify_session_autoload    = 1
"let g:startify_enable_special      = 0
"let g:startify_change_to_dir       = 0


" powerline configuration
python from powerline.vim import setup as powerline_setup
python powerline_setup()
python del powerline_setup

" Vindle Configuration
set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()
     
Plugin 'gmarik/Vundle.vim'
	   
" My vim scripts
Plugin 'The-NERD-Commenter'
Plugin 'a.vim'
Plugin 'ervandew/supertab'
Plugin 'Valloric/YouCompleteMe'
"Plugin 'rdnetto/YCM-Generator'
Plugin 'SirVer/ultisnips'
Plugin 'honza/vim-snippets'
Plugin 'jiangmiao/auto-pairs'
Plugin 'scrooloose/nerdtree'
Plugin 'jistr/vim-nerdtree-tabs'
"Plugin 'mhinz/vim-startify'
"Plugin 'bling/vim-airline'
Plugin 'tpope/vim-fugitive'
Plugin 'terryma/vim-multiple-cursors'
Plugin 'hynek/vim-python-pep8-indent'
Plugin 'edkolev/tmuxline.vim'

" configure the nerdtree window
let g:NERDTreeWinPos = "right"
"Plugin 'easymotion/vim-easymotion'

"colors configuration
Plugin 'dracula/vim'
"Plugin 'flazz/vim-colorschemes'
"Plugin 'vim-airline/vim-airline-themes'
" End my vim scripts

call vundle#end()            " required


filetype plugin indent on    " required

syntax enable
syntax on

"colorscheme brogrammer
"colorscheme molokai
"colorscheme vividchalk
"color dracula
"let g:airline_theme= 'jellybeans'

"if has('gui_running')
	""colorscheme codeschool
	"colorscheme brogrammer
	""let g:airline_theme= 'base16_codeschool'
	"let g:airline_theme= 'jellybeans'
"else
	""colorscheme molokai
	"colorscheme brogrammer
	"let g:airline_theme= 'jellybeans'
"endif

" F5 to run c/cpp/java/python
map <F5> :call CompileRun()<CR>
func! CompileRun()
exec "w"
if expand('%:e') == "c"
    exec "!gcc % -o %<.c&&./%<.c"
elseif expand('%:e') == "cpp" || expand('%:e') == "cc"
    exec "!g++ -std=c++11 -I $EIGEN_HOME % -o %<&& ./%< && rm %<" 
elseif expand('%:e') == "java"
    exec "!javac %&&java %:r"
elseif expand('%:e') == "py"
    exec "!python %"
endif
endfun

"python config with virtualenv support

py << EOF
import os
import sys
if 'VIRTUAL_ENV' in os.environ:
  project_base_dir = os.environ['VIRTUAL_ENV']
  activate_this = os.path.join(project_base_dir, 'bin/activate_this.py')
  execfile(activate_this, dict(__file__=activate_this))
EOF
